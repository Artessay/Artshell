\doxysection{lexer.\+l}
\label{lexer_8l_source}\index{src/lexer.l@{src/lexer.l}}
\textbf{ 浏览该文件的文档.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \%\{}
\DoxyCodeLine{00002 \textcolor{preprocessor}{    \#define MAX\_ARGUMENT\_NUMBER 128}}
\DoxyCodeLine{00003     \textcolor{keywordtype}{char} *\_argvector[MAX\_ARGUMENT\_NUMBER]; \textcolor{comment}{// 解析参数}}
\DoxyCodeLine{00004     \textcolor{keywordtype}{int} \_argcounter = 0;                 \textcolor{comment}{// 参数个数}}
\DoxyCodeLine{00005 \%\}}
\DoxyCodeLine{00006 }
\DoxyCodeLine{00007 WORD    [a-\/zA-\/Z0-\/9\(\backslash\)/\(\backslash\).\(\backslash\)-\/\string~]+}
\DoxyCodeLine{00008 STRINGLITERAL \(\backslash\)"{}(\(\backslash\)\(\backslash\).|[\string^\(\backslash\)\(\backslash\)"{}])*\(\backslash\)"{}}
\DoxyCodeLine{00009 REDIRCT [0-\/9><]+}
\DoxyCodeLine{00010 SPECIAL [()|\&*!]}
\DoxyCodeLine{00011 }
\DoxyCodeLine{00012 \%\%}
\DoxyCodeLine{00013     \_argcounter = 0; }
\DoxyCodeLine{00014     \_argvector[0] = NULL; }
\DoxyCodeLine{00015 }
\DoxyCodeLine{00016 \textcolor{stringliteral}{\{WORD\}|\{SPECIAL\}|\{REDIRCT\}|\{STRINGLITERAL\}} \{}
\DoxyCodeLine{00017     \textcolor{keywordflow}{if}(\_argcounter < MAX\_ARGUMENT\_NUMBER-\/1) }
\DoxyCodeLine{00018     \{}
\DoxyCodeLine{00019         \_argvector[\_argcounter++] = (\textcolor{keywordtype}{char} *)strdup(yytext);}
\DoxyCodeLine{00020         \_argvector[\_argcounter] = NULL;}
\DoxyCodeLine{00021     \}}
\DoxyCodeLine{00022 \}}
\DoxyCodeLine{00023 }
\DoxyCodeLine{00024 \textcolor{stringliteral}{\(\backslash\)n}  \textcolor{keywordflow}{return} (\textcolor{keywordtype}{int})\_argvector;   \textcolor{comment}{// 解析到换行符时结束}}
\DoxyCodeLine{00025 }
\DoxyCodeLine{00026 \textcolor{stringliteral}{[ \(\backslash\)t]+}}
\DoxyCodeLine{00027 }
\DoxyCodeLine{00028 \textcolor{stringliteral}{\(\backslash\)\#[\string^\(\backslash\)n]*}    ;   \textcolor{comment}{// 忽略以\#开头的注释}}
\DoxyCodeLine{00029 }
\DoxyCodeLine{00030 \textcolor{stringliteral}{.} \{}
\DoxyCodeLine{00031   \textcolor{keywordtype}{char} str[128] = \{0\};}
\DoxyCodeLine{00032   sprintf(str, \textcolor{stringliteral}{"{}Unrecognized token [\%s] in input sql."{}}, yytext);}
\DoxyCodeLine{00033 \textcolor{comment}{//   ParserSetError(str);}}
\DoxyCodeLine{00034 \}}
\DoxyCodeLine{00035 }
\DoxyCodeLine{00036 \%\%}
\DoxyCodeLine{00037 }
\DoxyCodeLine{00038 \textcolor{keywordtype}{int} yywrap()}
\DoxyCodeLine{00039 \{}
\DoxyCodeLine{00040     \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{00041 \}}
\DoxyCodeLine{00042 }
\DoxyCodeLine{00043 \textcolor{keywordtype}{int} yy\_lexer(\textcolor{keywordtype}{int} *argc, \textcolor{keywordtype}{char} ***argv)}
\DoxyCodeLine{00044 \{}
\DoxyCodeLine{00045     yylex();}
\DoxyCodeLine{00046     }
\DoxyCodeLine{00047     *argc = \_argcounter;}
\DoxyCodeLine{00048     *argv = \_argvector;}
\DoxyCodeLine{00049     }
\DoxyCodeLine{00050     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00051 \}}

\end{DoxyCode}
